"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[206],{5206:(x,c,a)=>{a.r(c),a.d(c,{ForgotpasswordComponent:()=>h});var u=a(6814),r=a(95),t=a(4769),p=a(9862);let m=(()=>{class e{constructor(o){this._HttpClient=o}ForgotPassword(o){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/auth/forgotPasswords",o)}Reset(o){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/auth/verifyResetCode",o)}newpassword(o){return this._HttpClient.put("https://ecommerce.routemisr.com/api/v1/auth/resetPassword",o)}static#t=this.\u0275fac=function(s){return new(s||e)(t.LFG(p.eN))};static#o=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var l=a(1120);function d(e,i){if(1&e&&(t.TgZ(0,"p",9),t._uU(1),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Oqu(o.userMas)}}function w(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"section",2)(1,"h2",3),t._uU(2,"Forgot Password"),t.qZA(),t.TgZ(3,"div")(4,"form",4)(5,"label",5),t._uU(6,"email"),t.qZA(),t._UZ(7,"input",6),t.TgZ(8,"button",7),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.Forgotpassword(n.frogot.value))}),t._uU(9,"Forgot Password"),t.qZA(),t.YNc(10,d,2,1,"p",8),t.qZA()()()}if(2&e){const o=t.oxw();t.xp6(4),t.Q6J("formGroup",o.frogot),t.xp6(6),t.Q6J("ngIf",o.userMas)}}function f(e,i){if(1&e&&(t.TgZ(0,"p",9),t._uU(1),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Oqu(o.userMas)}}function g(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"section",10)(1,"h2",3),t._uU(2,"Reset Code"),t.qZA(),t.TgZ(3,"div")(4,"form",11),t.NdJ("submit",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.resetpass(n.reset.value))}),t.TgZ(5,"label",12),t._uU(6,"resetCode"),t.qZA(),t._UZ(7,"input",13),t.TgZ(8,"button",14),t._uU(9,"Verify Reset Code"),t.qZA(),t.YNc(10,f,2,1,"p",8),t.qZA()()()}if(2&e){const o=t.oxw();t.xp6(4),t.Q6J("formGroup",o.reset),t.xp6(6),t.Q6J("ngIf",o.userMas)}}function _(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"section",10)(1,"h2",3),t._uU(2,"Reset Password"),t.qZA(),t.TgZ(3,"div")(4,"form",11),t.NdJ("submit",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.newpassword(n.ResetPassword.value))}),t.TgZ(5,"div")(6,"label",5),t._uU(7,"email"),t.qZA(),t._UZ(8,"input",6),t.qZA(),t.TgZ(9,"div")(10,"label",15),t._uU(11,"newPassword"),t.qZA(),t._UZ(12,"input",16),t.qZA(),t.TgZ(13,"button",14),t._uU(14,"Reset Password"),t.qZA()()()()}if(2&e){const o=t.oxw();t.xp6(4),t.Q6J("formGroup",o.ResetPassword)}}let h=(()=>{class e{constructor(o,s){this._ForgotpasswordService=o,this._Router=s,this.num1=!0,this.num2=!1,this.num3=!1,this.frogot=new r.cw({email:new r.NI("")}),this.reset=new r.cw({resetCode:new r.NI("")}),this.ResetPassword=new r.cw({email:new r.NI(""),newPassword:new r.NI("")})}Forgotpassword(o){this._ForgotpasswordService.ForgotPassword(o).subscribe({next:s=>{"success"==s.statusMsg&&(this.num1=!1,this.num2=!0,this.userMas=s.message,console.log(s))},error:s=>{this.userMas=s.error.message,console.log(s)}})}resetpass(o){this._ForgotpasswordService.Reset(o).subscribe({next:s=>{"Success"==s.status&&(this.num2=!1,this.num3=!0),console.log(s)},error:s=>{this.userMas=s.message,console.log(s)}})}newpassword(o){this._ForgotpasswordService.newpassword(o).subscribe({next:s=>{localStorage.setItem(s.token,"stoken"),this._Router.navigate(["/home"]),console.log(s)},error:s=>{console.log(s)}})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(m),t.Y36(l.F0))};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-forgotpassword"]],standalone:!0,features:[t.jDz],decls:3,vars:3,consts:[["class","w-75 mx-auto py-5",4,"ngIf"],["class","w-50 mx-auto py-5",4,"ngIf"],[1,"w-75","mx-auto","py-5"],[1,"text-main","fw-medium"],[3,"formGroup"],["for","email"],["formControlName","email","type","email","placeholder","email...!","id","email",1,"form-control"],[1,"main-btn","w-100","mt-2",3,"click"],["class","alert alert-danger ",4,"ngIf"],[1,"alert","alert-danger"],[1,"w-50","mx-auto","py-5"],[3,"formGroup","submit"],["for","resetCode"],["formControlName","resetCode","type","text","placeholder","resetCode...!","id","resetCode",1,"form-control"],[1,"main-btn","w-100","mt-2"],["for","newPassword"],["formControlName","newPassword","type","password","placeholder","newPassword...!","id","newPassword",1,"form-control"]],template:function(s,n){1&s&&(t.YNc(0,w,11,2,"section",0),t.YNc(1,g,11,2,"section",1),t.YNc(2,_,15,1,"section",1)),2&s&&(t.Q6J("ngIf",n.num1),t.xp6(1),t.Q6J("ngIf",n.num2),t.xp6(1),t.Q6J("ngIf",n.num3))},dependencies:[u.ez,u.O5,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]})}return e})()}}]);