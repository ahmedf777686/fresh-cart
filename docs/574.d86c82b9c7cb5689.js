"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[574],{8574:(h,a,i)=>{i.r(a),i.d(a,{PaymentComponent:()=>u});var n=i(95),c=i(6814),t=i(4769),m=i(1120),l=i(9862);let p=(()=>{class o{constructor(e){this._HttpClient=e,this.token={token:localStorage.getItem("stoken")}}sendpayment(e,s){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${e}?url=http://localhost:4200`,{shippingAddress:s},{headers:this.token})}static#t=this.\u0275fac=function(s){return new(s||o)(t.LFG(l.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),u=(()=>{class o{constructor(e,s){this._ActivatedRoute=e,this._PaymentService=s,this.payment=new n.cw({details:new n.NI(""),phone:new n.NI(""),city:new n.NI("")})}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.id=e.get("id")}})}paymentsend(){this._PaymentService.sendpayment(this.id,this.payment.value).subscribe({next:e=>{"success"==e.status&&window.open(e.session.url,"_blank"),console.log(e)}})}static#t=this.\u0275fac=function(s){return new(s||o)(t.Y36(m.gz),t.Y36(p))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-payment"]],standalone:!0,features:[t.jDz],decls:15,vars:1,consts:[[3,"formGroup","submit"],["for","details"],["formControlName","details","type","text","id","details",1,"form-control","my-2"],["for","phone"],["formControlName","phone","type","text","id","phone",1,"form-control","my-2"],["for","city"],["formControlName","city","type","text","id","city",1,"form-control","my-2"],[1,"btn","btn-outline-success","mb-2",3,"click"]],template:function(s,r){1&s&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return r.paymentsend()}),t.TgZ(1,"div")(2,"label",1),t._uU(3,"details"),t.qZA(),t._UZ(4,"input",2),t.qZA(),t.TgZ(5,"div")(6,"label",3),t._uU(7,"phone"),t.qZA(),t._UZ(8,"input",4),t.qZA(),t.TgZ(9,"div")(10,"label",5),t._uU(11,"city"),t.qZA(),t._UZ(12,"input",6),t.qZA(),t.TgZ(13,"button",7),t.NdJ("click",function(){return r.paymentsend()}),t._uU(14,"checkout"),t.qZA()()),2&s&&t.Q6J("formGroup",r.payment)},dependencies:[c.ez,n.UX,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]})}return o})()}}]);