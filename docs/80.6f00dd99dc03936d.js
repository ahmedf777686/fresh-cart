"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[80],{5080:(g,p,r)=>{r.r(p),r.d(p,{WishlistComponent:()=>P});var c=r(6814),l=r(1120),m=r(9090),t=r(4769),a=r(9921),v=r(2425),s=r(5675),d=r(146);function f(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"i",15),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,_=t.oxw();return t.KtG(_.remove(n._id))}),t.qZA()}}function C(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"i",16),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,_=t.oxw();return t.KtG(_.addwish(n._id))}),t.qZA()}}function x(o,u){if(1&o&&t._UZ(0,"i",17),2&o){const e=u.$implicit,i=t.oxw().$implicit;t.ekj("rating-color",i.ratingsAverage>=e)}}const O=function(o){return["/details",o]},E=function(){return[1,2,3,4,5]};function M(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4),t.YNc(2,f,1,0,"i",5),t.YNc(3,C,1,0,"i",6),t._UZ(4,"img",7),t.TgZ(5,"h4",8),t._uU(6),t.ALo(7,"text"),t.qZA(),t.TgZ(8,"h4",9),t._uU(9),t.ALo(10,"text"),t.qZA(),t.TgZ(11,"div",10)(12,"span",11),t._uU(13),t.ALo(14,"currency"),t.qZA(),t.TgZ(15,"div"),t.YNc(16,x,1,2,"i",12),t.TgZ(17,"span"),t._uU(18),t.qZA()()(),t.TgZ(19,"div")(20,"button",13,14),t.NdJ("click",function(){const _=t.CHM(e).$implicit,h=t.MAs(21),T=t.oxw();return t.KtG(T.addtocart(_._id,h))}),t._uU(22," +Add To cart"),t.qZA()()()()}if(2&o){const e=u.$implicit,i=t.oxw();t.xp6(2),t.Q6J("ngIf",i.backdata.includes(e._id)),t.xp6(1),t.Q6J("ngIf",!i.backdata.includes(e._id)),t.xp6(1),t.Q6J("routerLink",t.VKq(17,O,e._id))("src",e.imageCover,t.LSH)("alt",e.title),t.xp6(2),t.Oqu(t.lcZ(7,10,e.category.name)),t.xp6(3),t.Oqu(t.lcZ(10,12,e.title)),t.xp6(4),t.Oqu(t.xi3(14,14,e.price,"EGP")),t.xp6(3),t.Q6J("ngForOf",t.DdM(19,E)),t.xp6(2),t.hij(" ",e.ratingsAverage,"")}}let P=(()=>{class o{constructor(e,i,n,_,h){this._WishlistService=e,this._ToastrService=i,this._Renderer2=n,this._CartdataService=_,this._ProductdataService=h,this.allpro=[],this.backdata=[]}ngOnInit(){this._WishlistService.getwish().subscribe({next:e=>{this.allpro=e.data;let i=e.data.map(n=>n._id);this.backdata=i,console.log(e)}})}addtocart(e,i){this._Renderer2.setAttribute(i,"disabled","true"),this._CartdataService.Addtocart(e).subscribe({next:n=>{this._CartdataService.countnav.next(n.numOfCartItems),this._ToastrService.success(n.message),this._Renderer2.removeAttribute(i,"disabled")}})}addwish(e){this._WishlistService.addwish(e).subscribe({next:i=>{this._ToastrService.success(i.message),this.backdata=i.data,console.log(i)}})}remove(e){this._WishlistService.removewish(e).subscribe({next:i=>{this._ToastrService.success(i.message),this.backdata=i.data;let n=this.allpro.filter(_=>this.backdata.includes(_._id));this.allpro=n,console.log(n)}})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(a.M),t.Y36(v._W),t.Y36(t.Qsj),t.Y36(s.C),t.Y36(d.P))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-wishlist"]],standalone:!0,features:[t.jDz],decls:5,vars:5,consts:[[1,"container-fluid","py-4"],[1,"row","g-4"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"products","position-relative"],["role","button","class","fa fa-heart text-danger logo fa-2x ",3,"click",4,"ngIf"],["role","button","class","fa fa-heart fa-2x logo text-main",3,"click",4,"ngIf"],["role","button",1,"w-100",3,"routerLink","src","alt"],[1,"h6","text-main"],[1,"h6"],[1,"d-flex","justify-content-between"],[1,"small"],["class","fa fa-star ",3,"rating-color",4,"ngFor","ngForOf"],[1,"w-100","main-btn",3,"click"],["btn",""],["role","button",1,"fa","fa-heart","text-danger","logo","fa-2x",3,"click"],["role","button",1,"fa","fa-heart","fa-2x","logo","text-main",3,"click"],[1,"fa","fa-star"]],template:function(i,n){1&i&&(t.TgZ(0,"section")(1,"div",0)(2,"div",1),t.YNc(3,M,23,20,"div",2),t.ALo(4,"slice"),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("ngForOf",t.Dn7(4,1,n.allpro,0,20)))},dependencies:[c.ez,c.sg,c.O5,c.OU,c.H9,l.rH,m.K],styles:[".products[_ngcontent-%COMP%]{overflow:hidden}.products[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{position:absolute;top:10px;right:-40px;transition:all 1s}.products[_ngcontent-%COMP%]   .main-btn[_ngcontent-%COMP%]{transition:all 1s;opacity:0;transform:translateY(150%)}.products[_ngcontent-%COMP%]:hover   .main-btn[_ngcontent-%COMP%]{transform:translateY(0);opacity:1}.products[_ngcontent-%COMP%]:hover   .logo[_ngcontent-%COMP%]{top:10px;right:40px}"]})}return o})()},5675:(g,p,r)=>{r.d(p,{C:()=>t});var c=r(5619),l=r(4769),m=r(9862);let t=(()=>{class a{constructor(s){this._HttpClient=s,this.token={token:localStorage.getItem("stoken")},this.countnav=new c.X(0)}Addtocart(s){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/cart",{productId:s},{headers:this.token})}getdata(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/cart",{headers:this.token})}removecart(s){return this._HttpClient.delete(`https://ecommerce.routemisr.com/api/v1/cart/${s}`,{headers:this.token})}clearcart(){return this._HttpClient.delete("https://ecommerce.routemisr.com/api/v1/cart",{headers:this.token})}updatacart(s,d){return this._HttpClient.put(`https://ecommerce.routemisr.com/api/v1/cart/${s}`,{count:d},{headers:this.token})}static#t=this.\u0275fac=function(d){return new(d||a)(l.LFG(m.eN))};static#e=this.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},146:(g,p,r)=>{r.d(p,{P:()=>t});var c=r(5619),l=r(4769),m=r(9862);let t=(()=>{class a{constructor(s){this._HttpClient=s,this.countwish=new c.X(0)}getallproducts(s=1){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/products?page=${s}`)}category(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/categories")}categorydetails(s){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/categories/${s}`)}details(s){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/products/${s}`)}detailsdata(s){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/products/${s}`)}brands(){return this._HttpClient.get("https://route-ecommerce.onrender.com/api/v1/brands")}brandsdetails(s){return this._HttpClient.get(`https://route-ecommerce.onrender.com/api/v1/brands/${s}`)}static#t=this.\u0275fac=function(d){return new(d||a)(l.LFG(m.eN))};static#e=this.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()}}]);